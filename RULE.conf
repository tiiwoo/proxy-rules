[General]
# æ—¥å¿—ç­‰çº§: warning, notify, info, verbose (é»˜è®¤å€¼: notify)
loglevel = notify
# è·³è¿‡æŸä¸ªåŸŸåæˆ–è€… IP æ®µï¼Œè¿™äº›ç›®æ ‡ä¸»æœºå°†ä¸ä¼šç”± Surge Proxy å¤„ç†ã€‚(åœ¨ macOS
# ç‰ˆæœ¬ä¸­ï¼Œå¦‚æœå¯ç”¨äº† Set as System Proxy,  é‚£ä¹ˆè¿™äº›å€¼ä¼šè¢«å†™å…¥åˆ°ç³»ç»Ÿç½‘ç»œä»£ç†
# è®¾ç½®ä¸­.)
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 100.84.0.0/10, localhost, *.local, *.crashlytics.com, *.edu.cn
# å¼ºåˆ¶ä½¿ç”¨ç‰¹å®šçš„ DNS æœåŠ¡å™¨
dns-server = system, 119.29.29.29, 223.5.5.5, 1.1.1.1
# å°†ç‰¹å®š IP æ®µè·³è¿‡ Surge TUNï¼Œè¯¦è§ Manual
bypass-tun = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# æ˜¯å¦æˆªå–å¹¶ä¿å­˜ HTTP æµé‡ (å¯ç”¨åå°†å¯¹æ€§èƒ½æœ‰è¾ƒå¤§å½±å“) (é»˜è®¤å€¼: false)
replica = false
# æ˜¯å¦å¯åŠ¨å®Œæ•´çš„ IPv6 æ”¯æŒ (é»˜è®¤å€¼: false)
ipv6 = false
# ä»¥ä¸‹å‚æ•°ä»…ä¾› macOS ç‰ˆæœ¬ä½¿ç”¨ï¼ˆå¤šç«¯å£ç›‘å¬ä»… Surge 3 æ”¯æŒï¼‰
http-listen = 0.0.0.0:6152
socks5-listen = 0.0.0.0:6153
# æµ‹é€Ÿåœ°å€
internet-test-url = http://cp.cloudflare.com/generate_204
proxy-test-url = http://cp.cloudflare.com/generate_204
# å…¶å®ƒ
# external-controller-access = password@0.0.0.0:6170
show-primary-interface-changed-notification = true
proxy-settings-interface = Primary Interface (Auto)
menu-bar-show-speed = false
allow-wifi-access = true
hide-crashlytics-request = true

[Proxy]

[Proxy Group]
ğŸš€ Proxy = select
ğŸ¬ Netflix = select, ğŸš€ Proxy
ğŸ“º YouTube = select, ğŸš€ Proxy
ğŸ Apple = select, DIRECT, ğŸš€ Proxy
ğŸ Apple CDN = select, DIRECT, ğŸ Apple
US = select
HK = select

[Rule]
# Apple
#
# Apple ç›´è¿
#
USER-AGENT,*com.apple.mobileme.fmip1,DIRECT
# Weather
USER-AGENT,*WeatherFoundation*,DIRECT
DOMAIN,weather-data.apple.com,DIRECT
# Maps
USER-AGENT,%E5%9C%B0%E5%9B%BE*,DIRECT
# Settings
USER-AGENT,%E8%AE%BE%E7%BD%AE*,DIRECT
USER-AGENT,com.apple.geod*,DIRECT
USER-AGENT,com.apple.Maps,DIRECT
USER-AGENT,FindMyFriends*,DIRECT
USER-AGENT,FindMyiPhone*,DIRECT
USER-AGENT,FMDClient*,DIRECT
USER-AGENT,FMFD*,DIRECT
USER-AGENT,fmflocatord*,DIRECT
USER-AGENT,geod*,DIRECT
USER-AGENT,locationd*,DIRECT
USER-AGENT,Maps*,DIRECT
#
# ä¸€äº› com.apple.appstored* ä¼šè¿æ¥çš„ APIï¼ˆä¼˜å…ˆçº§é«˜ï¼‰
#
DOMAIN,guzzoni.apple.com,ğŸ Apple
DOMAIN,apps.apple.com,ğŸ Apple
DOMAIN,xp.apple.com,ğŸ Apple
DOMAIN,bag.itunes.apple.com,ğŸ Apple
DOMAIN,api-edge.apps.apple.com,ğŸ Apple
DOMAIN,api.apps.apple.com,ğŸ Apple
DOMAIN,play.itunes.apple.com,ğŸ Apple
DOMAIN,se.itunes.apple.com,ğŸ Apple
DOMAIN,se-edge.itunes.apple.com,ğŸ Apple
DOMAIN,su.itunes.apple.com,ğŸ Apple
DOMAIN,upp.itunes.apple.com,ğŸ Apple
DOMAIN,beta.music.apple.com,ğŸ Apple
DOMAIN-KEYWORD,buy.itunes.apple.com,ğŸ Apple
DOMAIN-SUFFIX,itunes-apple.com.akadns.net,ğŸ Apple
#
# Apple Global CDN
#
# iOS App Store
DOMAIN,iosapps.itunes.apple.com,ğŸ Apple CDN
# Mac App Store
DOMAIN,osxapps.itunes.apple.com,ğŸ Apple CDN
DOMAIN,oscdn.apple.com,ğŸ Apple CDN
# Update
DOMAIN,supportdownload.apple.com,ğŸ Apple CDN
# Update
DOMAIN,appldnld.apple.com,ğŸ Apple CDN
# Update
DOMAIN,swcdn.apple.com,ğŸ Apple CDN
DOMAIN,apptrailers.itunes.apple.com,ğŸ Apple CDN
DOMAIN,updates-http.cdn-apple.com,ğŸ Apple CDN
DOMAIN,updates.cdn-apple.com,ğŸ Apple CDN
# App Store & iTunes Images
DOMAIN-SUFFIX,mzstatic.com,ğŸ Apple CDN
# Mac App Store
PROCESS-NAME,storedownloadd,ğŸ Apple CDN
# iOS App Store
USER-AGENT,com.apple.appstored*,ğŸ Apple CDN
# Apple Music Streaming
DOMAIN,aod.itunes.apple.com,ğŸ Apple CDN
DOMAIN,mvod.itunes.apple.com,ğŸ Apple CDN
DOMAIN,streamingaudio.itunes.apple.com,ğŸ Apple CDN
# Other
DOMAIN,download.developer.apple.com,ğŸ Apple CDN
DOMAIN,downloaddispatch.itunes.apple.com,ğŸ Apple CDN
DOMAIN,app-site-association.cdn-apple.com,ğŸ Apple CDN
#
# Apple Non-China CDN
#
# Trailer
DOMAIN-SUFFIX,hls.itunes.apple.com,ğŸš€ Proxy
# Movie Stream
DOMAIN-SUFFIX,hls-amt.itunes.apple.com,ğŸš€ Proxy
# iTunes Music Stream
DOMAIN-SUFFIX,audio-ssl.itunes.apple.com,ğŸš€ Proxy
DOMAIN-SUFFIX,cdn-apple.com,ğŸš€ Proxy
DOMAIN,cdn.apple-cloudkit.com,ğŸš€ Proxy
# Developer
DOMAIN,devimages-cdn.apple.com,ğŸš€ Proxy
DOMAIN,devstreaming-cdn.apple.com,ğŸš€ Proxy
DOMAIN,js-cdn.music.apple.com,ğŸš€ Proxy
DOMAIN,docs-assets.developer.apple.com,ğŸš€ Proxy
# Other
DOMAIN-SUFFIX,apple-dns.net,ğŸš€ Proxy
# OCSP
DOMAIN-SUFFIX,ocsp.apple.com,ğŸš€ Proxy
USER-AGENT,com.apple.trustd*,ğŸš€ Proxy
#
# Apple News
#
USER-AGENT,AppleNews*,US
DOMAIN-SUFFIX,apple.news,US
DOMAIN,news-events.apple.com,US
DOMAIN,news-edge.apple.com,US
DOMAIN,apple.comscoreresearch.com,US
#
# Apple å…¶ä»–ç›´è¿
#
# Spotlight
DOMAIN,api.smoot.apple.com,DIRECT
DOMAIN,api.smoot.apple.cn,DIRECT
# Hotspot captive
DOMAIN,captive.apple.com,DIRECT
# Apple Pay
DOMAIN,smp-device-content.apple.com,DIRECT
DOMAIN-KEYWORD,smp-device,DIRECT
USER-AGENT,passd*,DIRECT
USER-AGENT,Wallet*,DIRECT
# locationd
DOMAIN,gs-loc.apple.com,DIRECT
DOMAIN-SUFFIX,ls.apple.com.akadns.net,DIRECT
DOMAIN-SUFFIX,ls.apple.com.edgesuite.net,DIRECT
# Reserve
DOMAIN,reserve-prime.apple.com,DIRECT
# Push
DOMAIN-KEYWORD,push-apple.com.akadns.net,DIRECT
DOMAIN-SUFFIX,push.apple.com.akadns.net,DIRECT
DOMAIN-SUFFIX,push.apple.com,DIRECT
# GeoServices.framework
DOMAIN-SUFFIX,ls.apple.com,DIRECT
# Asset Cache Locator Service
DOMAIN-SUFFIX,lcdn-locator.apple.com,DIRECT
# Caching Server Registration
DOMAIN-SUFFIX,lcdn-registration.apple.com,DIRECT
#
# Apple å…¶ä»–è‡ªé€‰
#
# iMessage
DOMAIN-SUFFIX,ess.apple.com,ğŸ Apple
# Apple Music
DOMAIN-SUFFIX,music.apple.com,ğŸ Apple
DOMAIN-SUFFIX,sonos-music.apple.com,ğŸ Apple
# Configuration
DOMAIN,configuration.apple.com,ğŸ Apple
# Others
DOMAIN-SUFFIX,aaplimg.com,ğŸ Apple
DOMAIN-SUFFIX,apple.co,ğŸ Apple
DOMAIN-SUFFIX,itunes.com,ğŸ Apple
DOMAIN-SUFFIX,itunes.apple.com,ğŸ Apple
DOMAIN-SUFFIX,apple,ğŸ Apple
DOMAIN,weather-analytics-events.apple.com,ğŸ Apple
# iCloud ä¸Šä¼ å’Œä¸‹è½½
DOMAIN-SUFFIX,icloud-content.com,ğŸ Apple
DOMAIN-SUFFIX,me.com,ğŸ Apple
DOMAIN-SUFFIX,apple.com,ğŸ Apple
DOMAIN-SUFFIX,icloud.com,ğŸ Apple
DOMAIN-SUFFIX,apple-cloudkit.com,ğŸ Apple

# Stream
RULE-SET,https://cdn.jsdelivr.net/gh/dler-io/Rules@main/Surge/Surge%203/Provider/Media/Netflix.list,ğŸ¬ Netflix
RULE-SET,https://cdn.jsdelivr.net/gh/dler-io/Rules@main/Surge/Surge%203/Provider/Media/HBO%20Max.list,ğŸ¬ Netflix
RULE-SET,https://raw.githubusercontent.com/geekdada/surge-list/master/hulu.list,ğŸš€ Proxy
RULE-SET,https://raw.githubusercontent.com/Tiiwoo/proxy-rules/main/lists/Youtube.list,ğŸ“º YouTube

# Telegram
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Telegram/Telegram.list,ğŸš€ Proxy

# Luminary
DOMAIN-SUFFIX,luminarypodcasts.com,US

# å¯èƒ½è¢«å±è”½
RULE-SET,https://raw.githubusercontent.com/Tiiwoo/proxy-rules/main/lists/Blocked.list,ğŸš€ Proxy

# Direct
RULE-SET,https://raw.githubusercontent.com/Tiiwoo/proxy-rules/main/lists/Direct.list,DIRECT

# Rulesets
RULE-SET,SYSTEM,DIRECT
# LAN
RULE-SET,LAN,DIRECT
# GeoIP CN
GEOIP,CN,DIRECT
# Final
FINAL,ğŸš€ Proxy,dns-failed

[URL Rewrite]
^https?://(www.)?g.cn https://www.google.com 302
^https?://(www.)?google.cn https://www.google.com 302

[MITM]